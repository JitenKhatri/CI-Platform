@using CI_Platform.Models.ViewModels
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var userName = Context.User.Identity.Name;
}
@{
  Layout = null;
}
@model List<StoryViewModel>

<!DOCTYPE html>

<html>
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mission-listing</title>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
  <link href="~/css/landing.css" rel="stylesheet" />
</head>

<body>
     <div class="container-fluid p-0">
    <div class="row header">
      <div class="col d-flex flex-row justify-content-center">
        <a href="#" class="mx-1 mx-sm-4">Stories</a>
        <div class="dropdown">
          <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown">
            Policy <img src="~/images/drop-down.png" class="mx-2" />
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </div>
      </div>
      <div class="col p-0">
        <div class="dropdown">
          <button
            class="dropdown-toggle profile"
            type="button"
            data-bs-toggle="dropdown" >
            <img src="~/images/user-img.png" class="profileimg" />
            <span class="mx-2 d-none d-sm-block">@userName</span>
            <img
              src="~/images/drop-down.png"
              class="mx-1 drop-down d-none d-sm-block"
            />
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">My Profile</a></li>
            <li><a class="dropdown-item" href="#">Help</a></li>
            <li><a class="dropdown-item" href="login.html">Logout</a></li>
          </ul>
        </div>
      </div>
    </div>


       <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <form class="d-flex my-2 my-lg-0">
                <button type="button" class="btn">
                  <img src="~/images/search.png" alt="search" />
                </button>
                <input id="search-input" onkeyup="search()"
                  class="form-control" 
                  type="text"
                  placeholder="Search mission ..."
                  aria-label="Search"
                  style="border:none;"
                />
              </form>
            </li>
          </ul>
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <button class="dropdown-toggle" type="button" id="countryDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                Country <img src="~/images/drop-down.png" class="mx-2">
              </button>
              <div class="dropdown-menu" aria-labelledby="countryDropdown">
                            @foreach(var country in ViewBag.CountryList)
             {
                   <div id="country">
        <input type="checkbox" id="@country.Text" data-id="@country.Value" class="form-check-input" onchange="Countryfilter('@country.Text','@country.Value')" data-value="@country.Text">
        <label for="@country.Text">@country.Text</label>
                  </div>
             }
              </div>
            </li>
            <li class="nav-item dropdown">
              <button class="dropdown-toggle" type="button" id="cityDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                City <img src="~/images/drop-down.png" class="mx-2">
              </button>
              <div class="dropdown-menu city" aria-labelledby="cityDropdown">
                 @foreach(var city in ViewBag.CityList)
                {
                                            <div>
        <input type="checkbox" id="@city.Text" class="form-check-input" onchange="Cityfilter('@city.Text')" data-value="@city.Text">
        <label for="@city.Text">@city.Text</label>
    </div>
                }
               
              </div>
            </li>
            <li class="nav-item dropdown">
              <button class="dropdown-toggle" type="button" id="themeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                Theme <img src="~/images/drop-down.png" class="mx-2">
              </button>
              <div class="dropdown-menu" aria-labelledby="themeDropdown">
                      @foreach(var theme in ViewBag.ThemeList)
                     {
                       <div class = "theme">
                  <input type="checkbox" id="@theme.Text" class="form-check-input" onchange="Themefilter('@theme.Text')" data-value="@theme.Text">
                  <label for="@theme.Text">@theme.Text</label>
                   </div>
                   }

             
            </li>
            <li class="nav-item dropdown">
              <button class="dropdown-toggle" type="button" id="skillDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                Skills <img src="~/images/drop-down.png" class="mx-2">
              </button>
              <div class="dropdown-menu" aria-labelledby="skillDropdown">
                 @foreach(var skill in ViewBag.SkillList)
               {
                  <div class = "skill">
                  <input type="checkbox" id="@skill.Text" class="form-check-input" onchange="Skillfilter('@skill.Text')" data-value="@skill.Text">
                  <label for="@skill.Text">@skill.Text</label>
                   </div>
               }
              </div>
            </li>
            <li class="nav-item">
              <button type="button" class="btn" id="clear-all-btn">Clear All</button>
            </li>
          </ul>
        </div>
      </nav>
    
    <!-- Selected items row -->
    <div class="container mb-2">
        <div id="selected-items-row">
        </div>
      </div>
    <div class="container-fluid story-header-img d-flex align-items-center justify-content-center flex-column">
        <p class=story-lorem>Lorem ipsum dolor sit amet, consectetur adipiscing elit,sed do eiusmod tempor
            incididunt ut labore et dolore magna
            aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip.</p>
            <div class="mt-2"> <a asp-controller="Story" asp-action="ShareStory"  class="btn story-button" > Share your Story <img src="~/images/right-arrow.png"/></a></div>
    </div>

   @* stories*@
   <div class="container-fluid story-container">
          <div class="row Stories">
          <partial name="~/Views/Shared/_stories.cshtml" />

            </div> @*row*@
            </div> @*container-fluid grid-container*@*@*@


  @* no story found*@
          <div class="page-not-found text-center" style="display:none;">
        <h4 class="pt-2">No Story found</h4>
        <div class="d-flex justify-content-center mt-4">
            <button class="apply-btn btn" style="width:12%">Submit new story <img src="images/right-arrow.png" alt="">
            </button>
        </div>
    </div>
       @*Pagination*@
         <nav aria-label="Page navigation" class="pagination-link">
      <ul class="pagination justify-content-center">
        <li class="page-item pe-2">
          <a class="page-link" href="@Url.Action("Story", "Story", new { page = 1, pageSize = 6 })">Previous</a>
        </li>
          <li class="page-item pe-2">
         <a class="page-link" href="@Url.Action("Story", "Story", new { page = 1, pageSize = 6 })">1</a>
       </li>
        <li class="page-item pe-2">
         <a class="page-link" href="@Url.Action("Story", "Story", new { page = 2, pageSize = 6 })">2</a>
       </li>
        <li class="page-item pe-2">
          <a class="page-link" href="@Url.Action("Story", "Story", new { page = 2, pageSize = 6 })">Next</a>
        </li>
      </ul>
    </nav> 
        </div>@* container-fluid p-0*@

    <footer> <a class="text-muted" style="    margin-left: 10%;
    text-decoration: none;" asp-controller"Home" asp-action="Privacy"> Privacy policy</a></footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  <script src="~/js/storypage.js"></script>
</body>

</html>
